<app-customer-nav></app-customer-nav>
<div class="profile-wrapper">
  <div class="profile-card shadow-lg rounded-3">
    <div class="profile-left text-center p-4">
      <img [src]="customerForm.value.profilePictureUrl || 'assets/images/Aditya.jpg'" alt="Profile Picture"
        class="profile-photo mb-3">
      <h5 class="fw-bold">{{ customerForm.value.customerName }}</h5>
      <p class="text-muted small">{{ customerForm.value.email }}</p>

      <input type="file" class="form-control form-control-sm mt-2" (change)="onFileSelected($event)"
        [disabled]="!isEditing">

      <div class="mt-3">
        <button class="btn btn-danger fw-semibold" (click)="logout()">Logout</button>
      </div>
    </div>

    <div class="profile-right p-4">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h4 class="fw-bold">Profile Settings</h4>
        <button class="btn btn-primary btn-sm shadow-sm" (click)="toggleEdit()">
          <i class="bi" [ngClass]="isEditing ? 'bi-x-circle' : 'bi-pencil-square'"></i>
          {{ isEditing ? 'Cancel' : 'Edit' }}
        </button>
      </div>

      <form [formGroup]="customerForm" class="profile-form">
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Customer Name</label>
            <input formControlName="customerName" class="form-control" [readonly]="!isEditing">
          </div>

          <div class="col-md-6">
            <label class="form-label">Email</label>
            <input formControlName="email" class="form-control" readonly>
          </div>
          <div class="col-md-6">
            <label class="form-label">Contact</label>
            <input formControlName="contact" class="form-control" [readonly]="!isEditing">
          </div>


          <div class="col-md-6">
            <label class="form-label">City</label>
            <input formControlName="city" class="form-control" [readonly]="!isEditing">
          </div>


          <div class="col-md-6">
            <div class="mb-3">
              <label for="gender" class="form-label fw-semibold">Gender</label>
              <select id="gender" formControlName="gender" class="form-select modern-input">
                <option value="">Select Gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
              </select>
            </div>
          </div>


          <div class="col-md-6">
            <label class="form-label">Created On</label>
            <input formControlName="creadedOn" class="form-control" readonly>
          </div>
        </div>

        <button *ngIf="isEditing" class="btn btn-success mt-4 px-4 shadow-sm" type="button" (click)="updateProfile()">
          <i class="bi bi-check2-circle"></i> Save Profile
        </button>
      </form>
    </div>
  </div>
</div>