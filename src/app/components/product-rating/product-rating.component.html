<div class="rating-container text-center p-3 border rounded-4 bg-light shadow-sm">
  <h5 class="mb-3 text-primary fw-semibold">Rate This Product</h5>

  <div class="mb-3">
    <span
      *ngFor="let star of stars"
      class="star fs-3"
      [class.selected]="star <= selectedRating"
      (click)="rate(star)"
      >&#9733;</span
    >
  </div>

  <textarea
    [(ngModel)]="reviewText"
    placeholder="Write your review..."
    class="form-control mb-3"
    rows="3"
  ></textarea>

  <button class="btn btn-success px-4" (click)="submitRating()">Submit</button>

  <hr />

  <div class="mt-3">
    <p class="mb-1 text-muted">Average Rating:</p>
    <h5 class="text-warning fw-bold">
      {{ averageRating | number : '1.1-1' }} / 5
    </h5>
    <div>
      <span
        *ngFor="let star of stars"
        class="star fs-4"
        [class.filled]="star <= averageRating"
        >&#9733;</span
      >
    </div>
  </div>
</div>
